<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <parent>
    <artifactId>kie-eap-distributions</artifactId>
    <groupId>org.kie</groupId>
    <version>6.1.0-SNAPSHOT</version>
  </parent>
  <modelVersion>4.0.0</modelVersion>

  <artifactId>kie-eap-distributions-brms-layer</artifactId>
  <name>KIE EAP - BRMS layer distribution</name>

  <properties>
    <modules.tmp.path>${project.build.directory}/generated</modules.tmp.path>
    <modules.distribution.name>brms</modules.distribution.name>
  </properties>

  <!-- The BRMS distributions dependencies. -->
  <dependencies>

    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-kie</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>

    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-drools</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>

    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-jbpm-minimal</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>

    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-sonatype-aether</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>

    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-apache-ant</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>

    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-apache-camel</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>

    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-codehouse-plexus</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>

    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-apache-commons-math</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>

    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-apache-commons-compress</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>

    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-apache-commons-exec</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>

    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-apache-helix</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>

    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-eclipse-jgit</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>

    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-apache-lucene</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>

    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-apache-maven</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>

    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-mvel</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>

    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-apache-commons-net</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>

    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-apache-poi</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>

    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>com-google-protobuf</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>

    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-sonatype-sisu</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>

    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-jboss-solder</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>

    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-sonatype-maven</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>

    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-sonatype-plexus</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>

    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-apache-commons-vfs</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>

    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-apache-maven-wagon</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>

    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-apache-zookeeper</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>

    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-apache-batik</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>


    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-apache-commons-httpclient</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>

    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-apache-commons-fileupload</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>

    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-apache-commons-jxpath</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>

    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-apache-commons-logging</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>

    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>com-opensymphony-quartz</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>

    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-junit</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>

    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-apache-xmlbeans</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>

    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-apache-commons-lang3</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>

    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>aopalliance</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>args4j</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>asm</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>avalon-framework</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>ch-qos-logback</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>com-github-sgroschupf-zkclient</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>com-google-code-findbugs</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>com-google-inject</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>com-googlecode-jarjar</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>com-jcraft</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>com-ning</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>com-thoughtworks-xstream</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>jakarta-regexp</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>javax-ws-rs</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>jivesoftware</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>net-sf-josql</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>net-sf-opencsv</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org.antlr</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-apache-abdera</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-apache-avalon-framework</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-apache-geronimo-specs</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-apache-xmlgraphics</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-beanshell</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-codehaus-woodstox</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-eclipse-emf</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-eclipse</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-freemarker</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-hamcrest</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-jasypt</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-jboss-netty</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-jboss-seam-transaction</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-json</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-ocpsoft-prettytime</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-osgi</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>rhino</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>rome</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>xmlpull</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>xpp3</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-apache-sshd</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>com-google-code-gson</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>

    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-restlet-jse</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-jsoup</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-apache-mina</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.kie.modules</groupId>
      <artifactId>org-tukaani</artifactId>
      <version>${project.version}</version>
      <type>pom</type>
    </dependency>

  </dependencies>

  <build>
    <plugins>

      <!-- Create the module templates and assembly files. -->
      <plugin>
        <groupId>org.kie</groupId>
        <artifactId>jboss-modules</artifactId>
        <version>${project.version}</version>
        <configuration>
          <!-- The name of the JBoss EAP layer distrubtion to geneate. -->
          <distributionName>${modules.distribution.name}</distributionName>
          <!-- The maven module that contains all base EAP/AS modules for a given version.-->
          <baseModule>
            <groupId>org.kie.modules</groupId>
            <artifactId>jboss-eap-6.1.1</artifactId>
            <version>${project.version}</version>
            <type>pom</type>
            <exclusions>
              <!-- Do not use these base modules as they resources are provided by the BPMS static layer (using newer resource versions). -->
              <exclusion>
                <groupId>org.kie.modules</groupId>
                <artifactId>org-antlr-main</artifactId>
                <version>${project.version}</version>
                <type>pom</type>
              </exclusion>
            </exclusions>
          </baseModule>
          <!-- The output path for the genrated module descriptor and assembly files. The resulting global assembly.xml file will be created in this path. -->
          <outputPath>${modules.tmp.path}</outputPath>
          <!-- The flag that indicates if the build must fail when a dependency is not satisfied. -->
          <failOnMissingDependency>true</failOnMissingDependency>
          <!-- Print the generated modules graph to a file. -->
          <!--<graphOutputFile>${project.basedir}/../../doc/brms-graph.txt</graphOutputFile>-->
        </configuration>
        <executions>
          <execution>
            <phase>prepare-package</phase>
            <goals>
              <goal>build-static</goal>
            </goals>
          </execution>
        </executions>
      </plugin>

      <!-- Assembly the distribution. -->
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-assembly-plugin</artifactId>
        <executions>
          <execution>
            <phase>package</phase>
            <goals>
              <goal>single</goal>
            </goals>
          </execution>
        </executions>
        <configuration>
          <descriptors>
            <descriptor>${modules.tmp.path}/static-modules/${modules.distribution.name}/${modules.distribution.name}-assembly.xml</descriptor>
          </descriptors>
          <appendAssemblyId>false</appendAssemblyId>
          <archive>
            <addMavenDescriptor>false</addMavenDescriptor>
          </archive>
        </configuration>
      </plugin>

    </plugins>
  </build>

</project>